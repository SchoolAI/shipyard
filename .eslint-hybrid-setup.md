# ESLint Hybrid Setup for Comment Rules

## Why?

Biome's GritQL plugins **cannot match comments** (they're not in the AST).

ESLint's `multiline-comment-style` rule **can** enforce comment patterns.

**Solution:** Use ESLint for JUST comment rules, Biome for everything else.

---

## Installation

```bash
pnpm add -D eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin -w
```

**Size:** ~50MB (worth it for this specific use case)

---

## Configuration (Already Created)

`.eslintrc.json`:
```json
{
  "root": true,
  "rules": {
    "multiline-comment-style": ["warn", "starred-block"],
    "spaced-comment": ["warn", "always"]
  }
}
```

**What this enforces:**
```typescript
// Bad: Explanatory single-line comment
// This function creates a user
function createUser() {}

// Good: Multi-line comment for explanations
/**
 * Creates a user with the given email.
 */
function createUser() {}

// Still allowed: Directives
// TODO: Add validation
// @ts-expect-error - Legacy code
```

---

## Usage

### Run ESLint Only
```bash
pnpm eslint . --ext .ts,.tsx
```

### Run Both (Recommended)
```bash
pnpm biome lint . && pnpm eslint . --ext .ts,.tsx
```

### Add to package.json
```json
{
  "scripts": {
    "lint": "biome lint . && eslint . --ext .ts,.tsx",
    "lint:biome": "biome lint .",
    "lint:eslint": "eslint . --ext .ts,.tsx"
  }
}
```

---

## Performance

**Biome:** ~100ms for full codebase ⚡⚡⚡
**ESLint:** ~2-3s for full codebase ⚡

**Total:** Still fast! And you get comment rules.

---

## Trade-offs

| Aspect | Single Tool (Biome) | Hybrid (Biome + ESLint) |
|--------|---------------------|-------------------------|
| Speed | ⚡⚡⚡ Fastest | ⚡⚡ Fast |
| Comment rules | ❌ No | ✅ Yes |
| Maintenance | ✅ Simple | ⚠️ Two configs |
| node_modules | ~5MB | ~55MB |

---

## Alternative: Wait for Biome

Track this issue: https://github.com/biomejs/biome/discussions/2585

When Biome adds CST trivia access to GritQL, you can remove ESLint.

---

## Recommendation

**If comment rules matter:** Use hybrid setup (add ESLint)
**If comment rules don't matter:** Keep Biome-only (current setup)

The 3 GritQL rules you have are **already excellent** for type safety!
